// cropperjs@2.1.0 downloaded from https://ga.jspm.io/npm:cropperjs@2.1.0/dist/cropper.esm.raw.js

import{isString as e,isElement as r,getRootDocument as t,CROPPER_IMAGE as o,CROPPER_CANVAS as n,CROPPER_SELECTION as a}from"@cropper/utils";export*from"@cropper/utils";import{CropperCanvas as i,CropperCrosshair as p,CropperGrid as c,CropperHandle as l,CropperImage as s,CropperSelection as d,CropperShade as h,CropperViewer as m}from"@cropper/elements";export*from"@cropper/elements";var u='<cropper-canvas background><cropper-image rotatable scalable skewable translatable></cropper-image><cropper-shade hidden></cropper-shade><cropper-handle action="select" plain></cropper-handle><cropper-selection initial-coverage="0.5" movable resizable><cropper-grid role="grid" bordered covered></cropper-grid><cropper-crosshair centered></cropper-crosshair><cropper-handle action="move" theme-color="rgba(255, 255, 255, 0.35)"></cropper-handle><cropper-handle action="n-resize"></cropper-handle><cropper-handle action="e-resize"></cropper-handle><cropper-handle action="s-resize"></cropper-handle><cropper-handle action="w-resize"></cropper-handle><cropper-handle action="ne-resize"></cropper-handle><cropper-handle action="nw-resize"></cropper-handle><cropper-handle action="se-resize"></cropper-handle><cropper-handle action="sw-resize"></cropper-handle></cropper-selection></cropper-canvas>';const g=/^img|canvas$/;const f=/<(\/?(?:script|style)[^>]*)>/gi;const v={template:u};i.$define();p.$define();c.$define();l.$define();s.$define();d.$define();h.$define();m.$define();class Cropper{constructor(n,a){var i;this.options=v;e(n)&&(n=document.querySelector(n));if(!r(n)||!g.test(n.localName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=n;a=Object.assign(Object.assign({},v),a);this.options=a;let{container:p}=a;if(p){e(p)&&(p=(i=t(n))===null||i===void 0?void 0:i.querySelector(p));if(!r(p))throw new Error("The `container` option must be an element or a valid selector.")}r(p)||(p=n.parentElement?n.parentElement:n.ownerDocument.body);this.container=p;const c=n.localName;let l="";c==="img"?({src:l}=n):c==="canvas"&&window.HTMLCanvasElement&&(l=n.toDataURL());const{template:s}=a;if(s&&e(s)){const e=document.createElement("template");const r=document.createDocumentFragment();e.innerHTML=s.replace(f,"&lt;$1&gt;");r.appendChild(e.content);Array.from(r.querySelectorAll(o)).forEach((e=>{e.setAttribute("src",l);e.setAttribute("alt",n.alt||"The image to crop");c==="img"&&["crossorigin","decoding","elementtiming","fetchpriority","loading","referrerpolicy","sizes","srcset"].forEach((r=>{n.hasAttribute(r)&&e.setAttribute(r,n.getAttribute(r)||"")}))}));if(n.parentElement){n.style.display="none";p.insertBefore(r,n.nextSibling)}else p.appendChild(r)}}getCropperCanvas(){return this.container.querySelector(n)}getCropperImage(){return this.container.querySelector(o)}getCropperSelection(){return this.container.querySelector(a)}getCropperSelections(){return this.container.querySelectorAll(a)}destroy(){var e;const r=this.getCropperCanvas();r&&((e=r.parentElement)===null||e===void 0?void 0:e.removeChild(r));this.element&&(this.element.style.display="")}}Cropper.version="2.1.0";export{u as DEFAULT_TEMPLATE,Cropper as default};

